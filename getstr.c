#include <stdio.h>
#include <stdlib.h>
 
#define INT 65536
 
int main (int argc, char **argv)
{
  unsigned int PART1;
  unsigned int PART2;
  unsigned int address;
 
  if (argc != 2) {
    printf("\nUsage:\n\t%s <address>\n\n", argv[0]);
    exit(1);
  }
 
  address = (unsigned int) strtoul(argv[1], NULL, 16);
  PART1 = (address >> 16) & 0xffff;
  PART2 = address & 0xffff;
 
  printf("\n");
  printf("0x%x = %u\n", PART1, PART1);
  printf("0x%x = %u\n", PART2, PART2);
  printf("\n");
  printf("%d - 8(bytes for addresses) = %u(bytes left for %%u to write)\n", PART2, PART2 - 8);
  printf("%d + %u = 0x%x\n", PART1, INT, PART1 + INT);
  printf("0x%x(total) - 0x%x(already written) = %u(needed)\n", PART1 + INT, PART2, PART1 + INT - PART2);
  printf("\n");
}
